"use strict";(()=>{var e={};e.id=138,e.ids=[138],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},512:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>d,patchFetch:()=>m,requestAsyncStorage:()=>g,routeModule:()=>u,serverHooks:()=>c,staticGenerationAsyncStorage:()=>p});var o={};s.r(o),s.d(o,{POST:()=>l});var r=s(3277),n=s(5265),a=s(5356),i=s(7076);async function l(e){try{let{timezone:t="UTC"}=await e.json(),s=process.env.GROQ_API_KEY;if(!s)return console.error("GROQ_API_KEY not configured"),i.NextResponse.json({error:"AI service not configured"},{status:500});let o=[{role:"system",content:`You are a scheduling assistant. Generate 5 suggested booking time slots for the next 7 days in ${t} timezone. Return a JSON array of objects with "date", "time", and "label" fields. Format dates as YYYY-MM-DD and times as HH:MM.`},{role:"user",content:"Generate 5 suggested booking slots for business consultations, considering typical business hours (9 AM - 6 PM) and avoiding weekends for professional meetings."}],r=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({model:"llama3-70b-8192",messages:o,temperature:.3,max_tokens:500})});if(!r.ok){let e=await r.text();return console.error("Groq API error:",e),i.NextResponse.json({error:"AI service unavailable"},{status:503})}let n=await r.json();if(!n.choices?.[0]?.message?.content)return i.NextResponse.json({error:"Invalid AI response"},{status:500});try{let e;let t=n.choices[0].message.content;try{e=JSON.parse(t)}catch{let t=new Date;e=[{date:new Date(t.getTime()+864e5).toISOString().split("T")[0],time:"10:00",label:"Morning Consultation"},{date:new Date(t.getTime()+1728e5).toISOString().split("T")[0],time:"14:00",label:"Afternoon Strategy Session"},{date:new Date(t.getTime()+2592e5).toISOString().split("T")[0],time:"11:00",label:"Business Planning Session"},{date:new Date(t.getTime()+3456e5).toISOString().split("T")[0],time:"15:00",label:"Growth Strategy Meeting"},{date:new Date(t.getTime()+432e6).toISOString().split("T")[0],time:"09:00",label:"Early Planning Session"}]}return i.NextResponse.json({success:!0,data:e})}catch(e){return console.error("Error parsing booking suggestions:",e),i.NextResponse.json({error:"Failed to process booking suggestions"},{status:500})}}catch(e){return console.error("Booking suggestion API error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let u=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/llm/bookingsuggest/route",pathname:"/api/llm/bookingsuggest",filename:"route",bundlePath:"app/api/llm/bookingsuggest/route"},resolvedPagePath:"D:\\scaler-project\\Scalar-AI\\app\\api\\llm\\bookingsuggest\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:g,staticGenerationAsyncStorage:p,serverHooks:c}=u,d="/api/llm/bookingsuggest/route";function m(){return(0,a.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:p})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),o=t.X(0,[916,786],()=>s(512));module.exports=o})();