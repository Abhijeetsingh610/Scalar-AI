(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759,192],{3192:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=3192,e.exports=t},5965:function(e,t,r){Promise.resolve().then(r.bind(r,1884))},1884:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(7821),n=r(8078),a=r(6678),i=r(8859),l=r(2815),c=r(1323),d=r(242),o=r(1083),u=r(5112),m=r(8106),x=r(3354),f=r(3316),g=r(9296),h=r(3514),y=r(1977),p=r(1990),v=r(4233);function b(){let[e,t]=(0,n.useState)([]),[r,b]=(0,n.useState)(!0),j=(0,a.createClientComponentClient)();(0,n.useEffect)(()=>{N()},[]);let N=async()=>{try{let{data:{user:e}}=await j.auth.getUser();if(!(null==e?void 0:e.email)){b(!1);return}let{data:r,error:s}=await j.from("leads").select("id").eq("email",e.email).single();if(s||!r){b(!1);return}let{data:n,error:a}=await j.from("masterclass_registrations").select("\n          id,\n          registered_at,\n          attended,\n          engagement_score,\n          masterclasses (\n            id,\n            title,\n            description,\n            instructor_name,\n            instructor_title,\n            tech_stack,\n            difficulty_level,\n            scheduled_date,\n            duration_minutes,\n            current_attendees,\n            rating,\n            is_free\n          )\n        ").eq("lead_id",r.id).order("registered_at",{ascending:!1});if(a){console.error("Error loading enrollments:",a),b(!1);return}let i=(null==n?void 0:n.map(e=>({id:e.masterclasses.id,title:e.masterclasses.title,description:e.masterclasses.description,instructor_name:e.masterclasses.instructor_name,instructor_title:e.masterclasses.instructor_title,tech_stack:e.masterclasses.tech_stack,difficulty_level:e.masterclasses.difficulty_level,scheduled_date:e.masterclasses.scheduled_date,duration_minutes:e.masterclasses.duration_minutes,current_attendees:e.masterclasses.current_attendees,rating:e.masterclasses.rating,is_free:e.masterclasses.is_free,registration:{id:e.id,registered_at:e.registered_at,attended:e.attended,engagement_score:e.engagement_score}})))||[];t(i)}catch(e){console.error("Error loading enrollments:",e)}finally{b(!1)}},k=e=>{switch(e){case"Beginner":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"Intermediate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"Advanced":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},w=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=e=>{let t=new Date,r=new Date(e.scheduled_date),s=r>t&&r.getTime()-t.getTime()<864e5;return r<t?{status:e.registration.attended?"completed":"missed",label:e.registration.attended?"Completed":"Missed",color:e.registration.attended?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}:s?{status:"upcoming",label:"Starting Soon",color:"bg-orange-100 text-orange-800"}:{status:"scheduled",label:"Scheduled",color:"bg-blue-100 text-blue-800"}};return r?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading your enrollments..."})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-cyan-50 dark:from-blue-950 dark:via-purple-950 dark:to-cyan-950",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"My Enrollments"}),(0,s.jsx)("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Track your learning journey and access your enrolled masterclasses"})]}),0===e.length?(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,s.jsx)(l.Z,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"No Enrollments Yet"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-8",children:"Start your learning journey by enrolling in a masterclass"}),(0,s.jsx)(h.z,{asChild:!0,children:(0,s.jsxs)(v.default,{href:"/masterclasses",children:[(0,s.jsx)(l.Z,{className:"w-4 h-4 mr-2"}),"Browse Masterclasses"]})})]}):(0,s.jsx)("div",{className:"grid gap-6",children:e.map((e,t)=>{let r=_(e);return(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,s.jsxs)(y.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsx)(y.Ol,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(p.C,{className:k(e.difficulty_level),children:e.difficulty_level}),(0,s.jsx)(p.C,{className:r.color,children:r.label}),e.is_free&&(0,s.jsx)(p.C,{className:"bg-green-100 text-green-800",children:"FREE"})]}),(0,s.jsx)(y.ll,{className:"text-xl mb-2",children:e.title}),(0,s.jsx)(y.SZ,{className:"text-base mb-4",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4"}),w(e.scheduled_date)]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),e.duration_minutes," mins"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4"}),e.current_attendees," enrolled"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.rating.toFixed(1)]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Enrolled on"}),(0,s.jsx)("p",{className:"font-medium",children:new Date(e.registration.registered_at).toLocaleDateString()})]})]})}),(0,s.jsxs)(y.aY,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,s.jsx)(m.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-sm",children:e.instructor_name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.instructor_title})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["upcoming"===r.status&&(0,s.jsxs)(h.z,{size:"sm",onClick:()=>alert("Join link will be available 15 minutes before start!"),children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Join Soon"]}),"completed"===r.status&&(0,s.jsxs)(h.z,{size:"sm",variant:"outline",onClick:()=>alert("Resources available!"),children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"View Resources"]}),(0,s.jsx)(h.z,{size:"sm",variant:"outline",asChild:!0,children:(0,s.jsxs)(v.default,{href:"/masterclasses/".concat(e.id),children:["View Details",(0,s.jsx)(g.Z,{className:"w-4 h-4 ml-2"})]})})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mt-4",children:[e.tech_stack.slice(0,4).map((e,t)=>(0,s.jsx)(p.C,{variant:"outline",className:"text-xs",children:e},t)),e.tech_stack.length>4&&(0,s.jsxs)(p.C,{variant:"outline",className:"text-xs",children:["+",e.tech_stack.length-4," more"]})]})]})]})},e.id)})}),e.length>0&&(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12",children:(0,s.jsxs)(y.Zb,{children:[(0,s.jsx)(y.Ol,{children:(0,s.jsx)(y.ll,{children:"Your Learning Stats"})}),(0,s.jsx)(y.aY,{children:(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-primary mb-1",children:e.length}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Enrollments"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:e.filter(e=>e.registration.attended).length}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Completed"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:e.filter(e=>new Date(e.scheduled_date)>new Date).length}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Upcoming"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[Math.round(e.reduce((e,t)=>e+t.registration.engagement_score,0)/e.length)||0,"%"]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avg Engagement"})]})]})})]})})]})})}},1990:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var s=r(7821);r(8078);var n=r(8635),a=r(1576);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...n}=e;return(0,s.jsx)("div",{className:(0,a.cn)(i({variant:r}),t),...n})}},3514:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(7821),n=r(8078),a=r(1860),i=r(8635),l=r(1576);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:d=!1,...o}=e,u=d?a.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(c({variant:n,size:i,className:r})),ref:t,...o})});d.displayName="Button"},1977:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var s=r(7821),n=r(8078),a=r(1576);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});o.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},1576:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(9492),n=r(8255);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},9296:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2486).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3316:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2486).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},2815:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2486).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},1323:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2486).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},242:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2486).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5112:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2486).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},8106:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2486).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1083:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2486).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},3354:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2486).Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])}},function(e){e.O(0,[678,15,115,205,744],function(){return e(e.s=5965)}),_N_E=e.O()}]);